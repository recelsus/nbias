# nbias

## Status

**注意:** このプロジェクトは現在、設計および初期構築の段階にあります。  
実装や周辺整備はほとんど未完了の状態です。

---

`nbias` はローカル環境で動作する CLI ベースの暗号化メモマネージャです。  
`github`上でのメモ管理をしたいが平文では管理したくない程度のテキストを想定.

`.env`のような情報や`ID`, `パスワード`といった秘匿情報レベルは扱わないことが推奨.
秘密の料理レシピくらいの情報をメモする程度で利用してください．

平文のテキストファイル(`.txt`, `.md` など)を任意のエディタで編集し、そのまま暗号化して`.nbv`ファイルとして保存します.

---

## Overview

- 完全オフラインで動作し、ネットワーク通信は一切行いません。
- Vim、Neovim、VSCode、Sublime など、既存のエディタ設定を変更せずに動作します。
- 暗号化は macOS では PBKDF2 + AES-256-GCM、Linux では scrypt + AES-256-GCM を使用。
- 復号時に RAM 上で一時平文を生成し、終了時に削除します。
- 暗号化ファイルには元の拡張子情報をヘッダーとして格納します。
- 対応拡張子のみを許可し、大容量やバイナリファイルは処理しません。

---

## Design Goals

- 可能な限り依存を最小化（標準ライブラリ＋システム暗号ライブラリのみ）。
- macOS、Arch Linux、Ubuntu などで同一動作を保証。
- 個人メモやレシピ、非公開ノートのローカル暗号化を容易にする。
- 編集から暗号化までを 1 コマンドで完結。

---

## File Format

暗号化ファイルの拡張子は `.nbv`（nbias vault）を既定とします。  
ヘッダーにはバージョン・暗号化方式・KDFパラメータ・元拡張子などが含まれ、  
復号時に自動的に元ファイル形式を復元できます。

---

## Typical Usage

```bash
nbias edit note.md      # 平文を編集し、終了時に暗号化するか質問
nbias edit memo.nbv     # 暗号化済みメモを復号して編集、終了時に再暗号化
nbias encrypt -i note.txt -o note.nbv
nbias decrypt -i note.nbv -o note.txt
```
